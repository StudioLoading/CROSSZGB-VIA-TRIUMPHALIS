#pragma bank 255

#include <stdint.h>
#include <gbdk/platform.h>
#include <gbdk/metasprites.h>
#include "TilesInfo.h"
#include "MetaSpriteInfo.h"

BANKREF(weapon)

// CGB and SMS/GG palettes (should be different, but ok for the test
static const palette_color_t weapon_palettes[] = {
	RGB8(254,254,254), RGB8(254, 160, 0), RGB8(254, 64, 0), RGB8(0, 0, 0)
};

// empty tiles just to initialize VRAM with something
static const uint8_t weapon_tiles[] = {
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

// metasprite of 3x1 8x16 px hardware sprites
const metasprite_t weapon_metasprite[] = {
	METASPR_ITEM(  -2, -2,  0, S_PALETTE), 
	METASPR_ITEM(  0,  8,  2, S_PALETTE), 
	METASPR_ITEM(  0,  8,  4, S_PALETTE),
	METASPR_TERM
};

// only one animation, because we stream tile data instead
const metasprite_t* const weapon_metasprites[1] = {
	weapon_metasprite
};

// weapon sprite descriptor structure
const struct MetaSpriteInfo weapon = {
	.width        = 20,                // width
	.height       = 6,                 // height
	.num_tiles    = 6,                 // num tiles
	.data         = weapon_tiles,       // tiles
	.num_palettes = 1,                 // num palettes
	.palettes     = weapon_palettes,    // CGB palette
	.num_sprites  = 1,                 // num sprites
	.metasprites  = weapon_metasprites, // metasprites
};
