#pragma bank 255

#include <stdint.h>
#include <gbdk/platform.h>
#include <gbdk/metasprites.h>
#include "TilesInfo.h"
#include "MetaSpriteInfo.h"

BANKREF(horse)

// CGB and SMS/GG palettes (should be different, but ok for the test
static const palette_color_t horse_palettes[] = {
	RGB8(255,255,255), RGB8(240, 216,  152), RGB8(200, 88, 0), RGB8(80, 40, 8)
};

// empty tiles just to initialize VRAM with something
static const uint8_t horse_tiles[] = {
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

// metasprite of 4x1 8x16 px hardware sprites
const metasprite_t horse_metasprite[] = {
	METASPR_ITEM(  -8, -5,  0, S_PALETTE), 
	METASPR_ITEM(  0,  8,  2, S_PALETTE), 
	METASPR_ITEM(  0,  8,  4, S_PALETTE),
	METASPR_ITEM(  0,  8,  6, S_PALETTE),
	METASPR_TERM
};

// only one animation, because we stream tile data instead
const metasprite_t* const horse_metasprites[1] = {
	horse_metasprite
};

// horse sprite descriptor structure
const struct MetaSpriteInfo horse = {
	.width        = 22,                // width
	.height       = 7,                 // height
	.num_tiles    = 8,                 // num tiles
	.data         = horse_tiles,       // tiles
	.num_palettes = 1,                 // num palettes
	.palettes     = horse_palettes,    // CGB palette
	.num_sprites  = 1,                 // num sprites
	.metasprites  = horse_metasprites, // metasprites
};
