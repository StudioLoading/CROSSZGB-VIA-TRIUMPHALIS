#pragma bank 255

#include <stdint.h>
#include <gbdk/platform.h>
#include <gbdk/metasprites.h>
#include "TilesInfo.h"
#include "MetaSpriteInfo.h"

BANKREF(points)

// CGB and SMS/GG palettes (should be different, but ok for the test
static const palette_color_t points_palettes[] = {
	RGB8(255,255,255), RGB8(240, 216,  152), RGB8(200, 88, 0), RGB8(80, 40, 8)
};

// empty tiles just to initialize VRAM with something
static const uint8_t points_tiles[] = {
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00
};

// metasprite of 4x1 8x16 px hardware sprites
const metasprite_t points_metasprite[] = {
	METASPR_ITEM(  -8, -5,  0, S_PALETTE), 
	METASPR_ITEM(  0,  8,  2, S_PALETTE), 
	METASPR_ITEM(  0,  8,  4, S_PALETTE),
	METASPR_ITEM(  0,  8,  6, S_PALETTE),
	METASPR_TERM
};

// only one animation, because we stream tile data instead
const metasprite_t* const points_metasprites[1] = {
	points_metasprite
};

// points sprite descriptor structure
const struct MetaSpriteInfo points = {
	.width        = 22,                // width
	.height       = 7,                 // height
	.num_tiles    = 8,                 // num tiles per frame
	.data         = points_tiles,      // tiles
	.num_palettes = 1,                 // num palettes
	.palettes     = points_palettes,   // CGB palette
	.num_sprites  = 1,                 // num sprites
	.metasprites  = points_metasprites,// metasprites
};
